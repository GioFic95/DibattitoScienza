<!doctype html>
<html lang="en">
 <head> 
  <meta charset="UTF-8"> 
  <title>Dibattito Scienza</title> 
  <style type="text/css">
        .tg  {border-collapse:collapse;border-spacing:0;border-color:#9ABAD9;}
        .tg td{font-family:Arial, sans-serif;font-size:14px;padding:10px 5px;border-style:solid;border-width:0px;overflow:hidden;word-break:normal;border-top-width:1px;border-bottom-width:1px;border-color:#9ABAD9;color:#444;background-color:#EBF5FF;}
        .tg th{font-family:Arial, sans-serif;font-size:14px;font-weight:normal;padding:10px 5px;border-style:solid;border-width:0px;overflow:hidden;word-break:normal;border-top-width:1px;border-bottom-width:1px;border-color:#9ABAD9;color:#fff;background-color:#409cff;cursor: pointer;}
        .tg .tg-phtq{background-color:#D2E4FC;border-color:inherit;text-align:left;vertical-align:top}
        .tg .tg-0pky{border-color:inherit;text-align:left;vertical-align:top}
    </style> 
  <script>
        window.onload=function() {
            const getCellValue = (tr, idx) => tr.children[idx].innerText || tr.children[idx].textContent;

            const comparer = (idx, asc) => (a, b) => ((v1, v2) =>
                    v1 !== '' && v2 !== '' && !isNaN(v1) && !isNaN(v2) ? v1 - v2 : v1.toString().localeCompare(v2)
            )(getCellValue(asc ? a : b, idx), getCellValue(asc ? b : a, idx));

            // do the work...
            document.querySelectorAll('th').forEach(th => th.addEventListener('click', (() => {
                const table = th.closest('table');
                console.log(table.querySelectorAll("tbody:nth-child(n+2) tr"));
                Array.from(table.querySelectorAll('tbody:nth-child(n+2) tr'))
                    .sort(comparer(Array.from(th.parentNode.children).indexOf(th), this.asc = !this.asc))
                    .forEach(tr => {
                        const tbody = document.createElement("tbody");
                        tbody.appendChild(tr);
                        table.appendChild(tbody)
                    });
            })));
        }
    </script> 
 </head> 
 <body> 
  <h1>Dibattito Scienza</h1> 
  <h2>Click on the column headers to sort the rows.</h2> 
  <h2>Clicca sulle intestazioni delle colonne per ordinare le righe.</h2> 
  <table class="tg" id="my-table"> 
   <tbody>
    <tr> 
     <th class="tg-0pky">TweetID ðŸ‘ˆ</th> 
     <th class="tg-0pky">UserName ðŸ‘ˆ</th> 
     <th class="tg-0pky">InReplyID ðŸ‘ˆ</th> 
     <th class="tg-0pky">RetweetId ðŸ‘ˆ</th> 
     <th class="tg-0pky">DateTime ðŸ‘ˆ</th> 
     <th class="tg-0pky">Url ðŸ‘ˆ</th> 
     <!-- <th class="tg-0pky">Topic ðŸ‘ˆ</th> --> 
     <th class="tg-0pky">Text ðŸ‘ˆ</th> 
    </tr> 
   </tbody>
  </table> 
  <p>Sorting function from <a target="_blank" href="https://stackoverflow.com/a/49041392">here</a></p>  
 </body>
</html>
